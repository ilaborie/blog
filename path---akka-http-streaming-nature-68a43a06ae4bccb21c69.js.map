{"version":3,"sources":["webpack:///path---akka-http-streaming-nature-68a43a06ae4bccb21c69.js","webpack:///./.cache/json/akka-http-streaming-nature.json"],"names":["webpackJsonp","519","module","exports","data","site","siteMetadata","title","author","markdownRemark","id","html","frontmatter","date","pathContext","slug"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,MAAQC,cAAgBC,MAAA,0BAAAC,OAAA,mBAA6DC,gBAAmBC,GAAA,+GAAAC,KAAA,g9XAAm6XC,aAAurBL,MAAA,cAAAM,KAAA,mBAA+CC,aAAgBC,KAAA","file":"path---akka-http-streaming-nature-68a43a06ae4bccb21c69.js","sourcesContent":["webpackJsonp([30607047126691],{\n\n/***/ 519:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"title\":\"Akka, Concurrency, etc.\",\"author\":\"Richard Imaoka\"}},\"markdownRemark\":{\"id\":\"C:/Users/richardimaoka/blog/src/pages/akka-http-streaming-nature/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<h2>Overview</h2>\\n<p>Diagram of Akka http server -> NO!!\\nor animation?</p>\\n<h2>Goals of this article</h2>\\n<ul>\\n<li>don’t need users to download anything to see how things work in a high-level</li>\\n<li>but show code that represents typical akka-http idoms, and their results</li>\\n</ul>\\n<h2>body</h2>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>libraryDependencies ++= Seq(\\n  \\\"com.typesafe.akka\\\" %% \\\"akka-http\\\"   % \\\"10.1.3\\\",\\n  \\\"com.typesafe.akka\\\" %% \\\"akka-stream\\\" % \\\"2.5.12\\\",\\n)</code></pre>\\n      </div>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"token keyword\\\">object</span> Main <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">def</span> main<span class=\\\"token punctuation\\\">(</span>args<span class=\\\"token operator\\\">:</span> Array<span class=\\\"token punctuation\\\">[</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">Unit</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n    <span class=\\\"token comment\\\">// ... application code goes here</span>\\n\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>diagram:</p>\\n<ul>\\n<li>Your Akka HTTP Application</li>\\n<li>ActorMaterializer (Akka stream)</li>\\n<li>ActorSystem (Akka actor) </li>\\n</ul>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"token keyword\\\">import</span> akka<span class=\\\"token punctuation\\\">.</span>actor<span class=\\\"token punctuation\\\">.</span>ActorSystem\\n<span class=\\\"token keyword\\\">import</span> akka<span class=\\\"token punctuation\\\">.</span>stream<span class=\\\"token punctuation\\\">.</span>ActorMaterializer\\n\\n<span class=\\\"token keyword\\\">implicit</span> <span class=\\\"token keyword\\\">val</span> system <span class=\\\"token operator\\\">=</span> ActorSystem<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Main\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">implicit</span> <span class=\\\"token keyword\\\">val</span> materializer <span class=\\\"token operator\\\">=</span> ActorMaterializer<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<p>define below. will see how <code>Route</code> works later.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"token comment\\\">// Directives._ for get, complete</span>\\n<span class=\\\"token keyword\\\">import</span> akka<span class=\\\"token punctuation\\\">.</span>http<span class=\\\"token punctuation\\\">.</span>scaladsl<span class=\\\"token punctuation\\\">.</span>server<span class=\\\"token punctuation\\\">.</span>Directives<span class=\\\"token punctuation\\\">.</span>_ \\n<span class=\\\"token keyword\\\">import</span> akka<span class=\\\"token punctuation\\\">.</span>http<span class=\\\"token punctuation\\\">.</span>scaladsl<span class=\\\"token punctuation\\\">.</span>server<span class=\\\"token punctuation\\\">.</span>Route\\n\\n<span class=\\\"token keyword\\\">lazy</span> <span class=\\\"token keyword\\\">val</span> routes<span class=\\\"token operator\\\">:</span> Route <span class=\\\"token operator\\\">=</span> get <span class=\\\"token punctuation\\\">{</span>\\n  complete<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Hello World\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>route structure diagram?</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"token keyword\\\">import</span> akka<span class=\\\"token punctuation\\\">.</span>http<span class=\\\"token punctuation\\\">.</span>scaladsl<span class=\\\"token punctuation\\\">.</span>Http\\nHttp<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span>bindAndHandle<span class=\\\"token punctuation\\\">(</span>routes<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"localhost\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">8080</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>> sbt run\\n\\n[info] Running com.example.Main\\nServer online at http://localhost:8080/</code></pre>\\n      </div>\\n<p>screenshot of browser, showing hello world</p>\\n<h1>JSON to/from Scala case class conversion</h1>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code>libraryDependencies <span class=\\\"token operator\\\">++</span><span class=\\\"token operator\\\">=</span> Seq<span class=\\\"token punctuation\\\">(</span>\\n  <span class=\\\"token string\\\">\\\"com.typesafe.akka\\\"</span> <span class=\\\"token operator\\\">%</span><span class=\\\"token operator\\\">%</span> <span class=\\\"token string\\\">\\\"akka-http\\\"</span>   <span class=\\\"token operator\\\">%</span> <span class=\\\"token string\\\">\\\"10.1.3\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">\\\"com.typesafe.akka\\\"</span> <span class=\\\"token operator\\\">%</span><span class=\\\"token operator\\\">%</span> <span class=\\\"token string\\\">\\\"akka-stream\\\"</span> <span class=\\\"token operator\\\">%</span> <span class=\\\"token string\\\">\\\"2.5.12\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"gatsby-highlight-code-line\\\">  <span class=\\\"token string\\\">\\\"com.typesafe.akka\\\"</span> <span class=\\\"token operator\\\">%</span><span class=\\\"token operator\\\">%</span> <span class=\\\"token string\\\">\\\"akka-http-spray-json\\\"</span> <span class=\\\"token operator\\\">%</span> <span class=\\\"token string\\\">\\\"10.1.3\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">  <span class=\\\"token string\\\">\\\"io.spray\\\"</span> <span class=\\\"token operator\\\">%</span><span class=\\\"token operator\\\">%</span>  <span class=\\\"token string\\\">\\\"spray-json\\\"</span> <span class=\\\"token operator\\\">%</span> <span class=\\\"token string\\\">\\\"1.3.4\\\"</span>\\n</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<p>case-class vs. json natural interpretation picture or code vs code comparison</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"token keyword\\\">import</span> spray<span class=\\\"token punctuation\\\">.</span>json<span class=\\\"token punctuation\\\">.</span>DefaultJsonProtocol<span class=\\\"token punctuation\\\">.</span>_ <span class=\\\"token comment\\\">//for jsonFormat2</span>\\n<span class=\\\"token keyword\\\">import</span> spray<span class=\\\"token punctuation\\\">.</span>json<span class=\\\"token punctuation\\\">.</span>RootJsonFormat\\n\\n<span class=\\\"token keyword\\\">case</span> <span class=\\\"token keyword\\\">class</span> User<span class=\\\"token punctuation\\\">(</span>name<span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">,</span> age<span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">Int</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token keyword\\\">object</span> User <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">// formats for unmarshalling and marshalling</span>\\n  <span class=\\\"token keyword\\\">implicit</span> <span class=\\\"token keyword\\\">val</span> userJsonFormat <span class=\\\"token operator\\\">=</span> jsonFormat2<span class=\\\"token punctuation\\\">(</span>User<span class=\\\"token punctuation\\\">.</span>apply<span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>key point, reduce boilorplate json &#x3C;-> object transformation code, but detail will be in separate article</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"gatsby-highlight-code-line\\\"><span class=\\\"token keyword\\\">import</span> akka<span class=\\\"token punctuation\\\">.</span>http<span class=\\\"token punctuation\\\">.</span>scaladsl<span class=\\\"token punctuation\\\">.</span>marshallers<span class=\\\"token punctuation\\\">.</span>sprayjson<span class=\\\"token punctuation\\\">.</span>SprayJsonSupport<span class=\\\"token punctuation\\\">.</span>_\\n</span><span class=\\\"gatsby-highlight-code-line\\\"><span class=\\\"token keyword\\\">import</span> com<span class=\\\"token punctuation\\\">.</span>example<span class=\\\"token punctuation\\\">.</span>model<span class=\\\"token punctuation\\\">.</span>User\\n</span>\\n<span class=\\\"token keyword\\\">lazy</span> <span class=\\\"token keyword\\\">val</span> routes<span class=\\\"token operator\\\">:</span> Route <span class=\\\"token operator\\\">=</span> get <span class=\\\"token punctuation\\\">{</span>\\n<span class=\\\"gatsby-highlight-code-line\\\">  complete<span class=\\\"token punctuation\\\">(</span>User<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Joh Don\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">35</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n</span><span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>> sbt run</code></pre>\\n      </div>\\n<p>screenshot of browser, showing JSON</p>\\n<h1>basic route structure</h1>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>//route structure\\nGET /users/person1\\nGET /users/person2\\nGET /users/person3</code></pre>\\n      </div>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"token keyword\\\">lazy</span> <span class=\\\"token keyword\\\">val</span> routes<span class=\\\"token operator\\\">:</span> Route <span class=\\\"token operator\\\">=</span>\\n  path<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"person1\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    get <span class=\\\"token punctuation\\\">{</span>\\n      complete<span class=\\\"token punctuation\\\">(</span>User<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Joh Don\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">35</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"gatsby-highlight-code-line\\\">  <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">~</span>\\n</span>  path<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"person2\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    get <span class=\\\"token punctuation\\\">{</span>\\n      complete<span class=\\\"token punctuation\\\">(</span>User<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Justin Bieber\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">24</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"gatsby-highlight-code-line\\\">  <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">~</span>\\n</span>  path<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"person3\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    get <span class=\\\"token punctuation\\\">{</span>\\n      complete<span class=\\\"token punctuation\\\">(</span>User<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Peyton List\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">20</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>Screencapture of accessing /, then three paths</p>\\n<p>PUT, PATCH, etc are available\\nJSON -> case class is also possible\\nplugins for cors, etc</p>\\n<h2>low-level, needs understanding of HttpRequest and HttpResponse</h2>\\n<p>Hmmmm I dunno whether you can use this with marsheller/unmarshaller …\\ndo not mention this in the article, or just completely omit this low-level section from this article</p>\\n<p>translate above high-level code to low level\\ndiagram showing mapping between HTTP data structure and HttpRequest/Response\\n(use real fields/values for HTTP data, for easier understanding)\\n(and possibly real chrome screenshot)</p>\",\"frontmatter\":{\"title\":\"Akka HTTP 1\",\"date\":\"July 15, 2018\"}}},\"pathContext\":{\"slug\":\"/akka-http-streaming-nature/\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---akka-http-streaming-nature-68a43a06ae4bccb21c69.js","module.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"title\":\"Akka, Concurrency, etc.\",\"author\":\"Richard Imaoka\"}},\"markdownRemark\":{\"id\":\"C:/Users/richardimaoka/blog/src/pages/akka-http-streaming-nature/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<h2>Overview</h2>\\n<p>Diagram of Akka http server -> NO!!\\nor animation?</p>\\n<h2>Goals of this article</h2>\\n<ul>\\n<li>don’t need users to download anything to see how things work in a high-level</li>\\n<li>but show code that represents typical akka-http idoms, and their results</li>\\n</ul>\\n<h2>body</h2>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>libraryDependencies ++= Seq(\\n  \\\"com.typesafe.akka\\\" %% \\\"akka-http\\\"   % \\\"10.1.3\\\",\\n  \\\"com.typesafe.akka\\\" %% \\\"akka-stream\\\" % \\\"2.5.12\\\",\\n)</code></pre>\\n      </div>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"token keyword\\\">object</span> Main <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">def</span> main<span class=\\\"token punctuation\\\">(</span>args<span class=\\\"token operator\\\">:</span> Array<span class=\\\"token punctuation\\\">[</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">Unit</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n    <span class=\\\"token comment\\\">// ... application code goes here</span>\\n\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>diagram:</p>\\n<ul>\\n<li>Your Akka HTTP Application</li>\\n<li>ActorMaterializer (Akka stream)</li>\\n<li>ActorSystem (Akka actor) </li>\\n</ul>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"token keyword\\\">import</span> akka<span class=\\\"token punctuation\\\">.</span>actor<span class=\\\"token punctuation\\\">.</span>ActorSystem\\n<span class=\\\"token keyword\\\">import</span> akka<span class=\\\"token punctuation\\\">.</span>stream<span class=\\\"token punctuation\\\">.</span>ActorMaterializer\\n\\n<span class=\\\"token keyword\\\">implicit</span> <span class=\\\"token keyword\\\">val</span> system <span class=\\\"token operator\\\">=</span> ActorSystem<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Main\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">implicit</span> <span class=\\\"token keyword\\\">val</span> materializer <span class=\\\"token operator\\\">=</span> ActorMaterializer<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<p>define below. will see how <code>Route</code> works later.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"token comment\\\">// Directives._ for get, complete</span>\\n<span class=\\\"token keyword\\\">import</span> akka<span class=\\\"token punctuation\\\">.</span>http<span class=\\\"token punctuation\\\">.</span>scaladsl<span class=\\\"token punctuation\\\">.</span>server<span class=\\\"token punctuation\\\">.</span>Directives<span class=\\\"token punctuation\\\">.</span>_ \\n<span class=\\\"token keyword\\\">import</span> akka<span class=\\\"token punctuation\\\">.</span>http<span class=\\\"token punctuation\\\">.</span>scaladsl<span class=\\\"token punctuation\\\">.</span>server<span class=\\\"token punctuation\\\">.</span>Route\\n\\n<span class=\\\"token keyword\\\">lazy</span> <span class=\\\"token keyword\\\">val</span> routes<span class=\\\"token operator\\\">:</span> Route <span class=\\\"token operator\\\">=</span> get <span class=\\\"token punctuation\\\">{</span>\\n  complete<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Hello World\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>route structure diagram?</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"token keyword\\\">import</span> akka<span class=\\\"token punctuation\\\">.</span>http<span class=\\\"token punctuation\\\">.</span>scaladsl<span class=\\\"token punctuation\\\">.</span>Http\\nHttp<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span>bindAndHandle<span class=\\\"token punctuation\\\">(</span>routes<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"localhost\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">8080</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>> sbt run\\n\\n[info] Running com.example.Main\\nServer online at http://localhost:8080/</code></pre>\\n      </div>\\n<p>screenshot of browser, showing hello world</p>\\n<h1>JSON to/from Scala case class conversion</h1>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code>libraryDependencies <span class=\\\"token operator\\\">++</span><span class=\\\"token operator\\\">=</span> Seq<span class=\\\"token punctuation\\\">(</span>\\n  <span class=\\\"token string\\\">\\\"com.typesafe.akka\\\"</span> <span class=\\\"token operator\\\">%</span><span class=\\\"token operator\\\">%</span> <span class=\\\"token string\\\">\\\"akka-http\\\"</span>   <span class=\\\"token operator\\\">%</span> <span class=\\\"token string\\\">\\\"10.1.3\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">\\\"com.typesafe.akka\\\"</span> <span class=\\\"token operator\\\">%</span><span class=\\\"token operator\\\">%</span> <span class=\\\"token string\\\">\\\"akka-stream\\\"</span> <span class=\\\"token operator\\\">%</span> <span class=\\\"token string\\\">\\\"2.5.12\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"gatsby-highlight-code-line\\\">  <span class=\\\"token string\\\">\\\"com.typesafe.akka\\\"</span> <span class=\\\"token operator\\\">%</span><span class=\\\"token operator\\\">%</span> <span class=\\\"token string\\\">\\\"akka-http-spray-json\\\"</span> <span class=\\\"token operator\\\">%</span> <span class=\\\"token string\\\">\\\"10.1.3\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">  <span class=\\\"token string\\\">\\\"io.spray\\\"</span> <span class=\\\"token operator\\\">%</span><span class=\\\"token operator\\\">%</span>  <span class=\\\"token string\\\">\\\"spray-json\\\"</span> <span class=\\\"token operator\\\">%</span> <span class=\\\"token string\\\">\\\"1.3.4\\\"</span>\\n</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<p>case-class vs. json natural interpretation picture or code vs code comparison</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"token keyword\\\">import</span> spray<span class=\\\"token punctuation\\\">.</span>json<span class=\\\"token punctuation\\\">.</span>DefaultJsonProtocol<span class=\\\"token punctuation\\\">.</span>_ <span class=\\\"token comment\\\">//for jsonFormat2</span>\\n<span class=\\\"token keyword\\\">import</span> spray<span class=\\\"token punctuation\\\">.</span>json<span class=\\\"token punctuation\\\">.</span>RootJsonFormat\\n\\n<span class=\\\"token keyword\\\">case</span> <span class=\\\"token keyword\\\">class</span> User<span class=\\\"token punctuation\\\">(</span>name<span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">,</span> age<span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">Int</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token keyword\\\">object</span> User <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">// formats for unmarshalling and marshalling</span>\\n  <span class=\\\"token keyword\\\">implicit</span> <span class=\\\"token keyword\\\">val</span> userJsonFormat <span class=\\\"token operator\\\">=</span> jsonFormat2<span class=\\\"token punctuation\\\">(</span>User<span class=\\\"token punctuation\\\">.</span>apply<span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>key point, reduce boilorplate json &#x3C;-> object transformation code, but detail will be in separate article</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"gatsby-highlight-code-line\\\"><span class=\\\"token keyword\\\">import</span> akka<span class=\\\"token punctuation\\\">.</span>http<span class=\\\"token punctuation\\\">.</span>scaladsl<span class=\\\"token punctuation\\\">.</span>marshallers<span class=\\\"token punctuation\\\">.</span>sprayjson<span class=\\\"token punctuation\\\">.</span>SprayJsonSupport<span class=\\\"token punctuation\\\">.</span>_\\n</span><span class=\\\"gatsby-highlight-code-line\\\"><span class=\\\"token keyword\\\">import</span> com<span class=\\\"token punctuation\\\">.</span>example<span class=\\\"token punctuation\\\">.</span>model<span class=\\\"token punctuation\\\">.</span>User\\n</span>\\n<span class=\\\"token keyword\\\">lazy</span> <span class=\\\"token keyword\\\">val</span> routes<span class=\\\"token operator\\\">:</span> Route <span class=\\\"token operator\\\">=</span> get <span class=\\\"token punctuation\\\">{</span>\\n<span class=\\\"gatsby-highlight-code-line\\\">  complete<span class=\\\"token punctuation\\\">(</span>User<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Joh Don\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">35</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n</span><span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>> sbt run</code></pre>\\n      </div>\\n<p>screenshot of browser, showing JSON</p>\\n<h1>basic route structure</h1>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>//route structure\\nGET /users/person1\\nGET /users/person2\\nGET /users/person3</code></pre>\\n      </div>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"token keyword\\\">lazy</span> <span class=\\\"token keyword\\\">val</span> routes<span class=\\\"token operator\\\">:</span> Route <span class=\\\"token operator\\\">=</span>\\n  path<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"person1\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    get <span class=\\\"token punctuation\\\">{</span>\\n      complete<span class=\\\"token punctuation\\\">(</span>User<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Joh Don\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">35</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"gatsby-highlight-code-line\\\">  <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">~</span>\\n</span>  path<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"person2\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    get <span class=\\\"token punctuation\\\">{</span>\\n      complete<span class=\\\"token punctuation\\\">(</span>User<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Justin Bieber\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">24</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"gatsby-highlight-code-line\\\">  <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">~</span>\\n</span>  path<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"person3\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    get <span class=\\\"token punctuation\\\">{</span>\\n      complete<span class=\\\"token punctuation\\\">(</span>User<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Peyton List\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">20</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>Screencapture of accessing /, then three paths</p>\\n<p>PUT, PATCH, etc are available\\nJSON -> case class is also possible\\nplugins for cors, etc</p>\\n<h2>low-level, needs understanding of HttpRequest and HttpResponse</h2>\\n<p>Hmmmm I dunno whether you can use this with marsheller/unmarshaller …\\ndo not mention this in the article, or just completely omit this low-level section from this article</p>\\n<p>translate above high-level code to low level\\ndiagram showing mapping between HTTP data structure and HttpRequest/Response\\n(use real fields/values for HTTP data, for easier understanding)\\n(and possibly real chrome screenshot)</p>\",\"frontmatter\":{\"title\":\"Akka HTTP 1\",\"date\":\"July 15, 2018\"}}},\"pathContext\":{\"slug\":\"/akka-http-streaming-nature/\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/akka-http-streaming-nature.json\n// module id = 519\n// module chunks = 30607047126691"],"sourceRoot":""}